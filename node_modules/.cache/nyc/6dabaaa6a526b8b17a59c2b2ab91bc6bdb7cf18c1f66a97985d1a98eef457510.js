"use strict";var cov_2ni5n7p5fo=function(){var path="/private/var/root/Documents/Teamwork/server/controllers/user.js";var hash="ddfc07ae499cac72bfa2267d92f5dd54fee8db72";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/private/var/root/Documents/Teamwork/server/controllers/user.js",statementMap:{"0":{start:{line:3,column:29},end:{line:3,column:84}},"1":{start:{line:5,column:0},end:{line:7,column:3}},"2":{start:{line:8,column:0},end:{line:8,column:28}},"3":{start:{line:10,column:23},end:{line:10,column:95}},"4":{start:{line:12,column:23},end:{line:12,column:95}},"5":{start:{line:14,column:20},end:{line:14,column:89}},"6":{start:{line:16,column:15},end:{line:16,column:38}},"7":{start:{line:18,column:13},end:{line:18,column:62}},"8":{start:{line:20,column:15},end:{line:20,column:59}},"9":{start:{line:22,column:54},end:{line:22,column:73}},"10":{start:{line:22,column:75},end:{line:22,column:326}},"11":{start:{line:22,column:125},end:{line:22,column:161}},"12":{start:{line:22,column:163},end:{line:22,column:292}},"13":{start:{line:22,column:183},end:{line:22,column:292}},"14":{start:{line:22,column:225},end:{line:22,column:288}},"15":{start:{line:22,column:293},end:{line:22,column:324}},"16":{start:{line:22,column:327},end:{line:22,column:339}},"17":{start:{line:24,column:33},end:{line:24,column:518}},"18":{start:{line:24,column:46},end:{line:24,column:47}},"19":{start:{line:24,column:91},end:{line:24,column:131}},"20":{start:{line:24,column:133},end:{line:24,column:516}},"21":{start:{line:24,column:146},end:{line:24,column:256}},"22":{start:{line:24,column:193},end:{line:24,column:252}},"23":{start:{line:24,column:264},end:{line:24,column:516}},"24":{start:{line:24,column:304},end:{line:24,column:378}},"25":{start:{line:24,column:388},end:{line:24,column:514}},"26":{start:{line:24,column:429},end:{line:24,column:510}},"27":{start:{line:24,column:519},end:{line:24,column:533}},"28":{start:{line:29,column:0},end:{line:88,column:3}},"29":{start:{line:31,column:4},end:{line:31,column:59}},"30":{start:{line:34,column:2},end:{line:86,column:6}},"31":{start:{line:38,column:20},end:{line:38,column:258}},"32":{start:{line:40,column:6},end:{line:45,column:7}},"33":{start:{line:40,column:19},end:{line:40,column:20}},"34":{start:{line:41,column:8},end:{line:44,column:11}},"35":{start:{line:41,column:59},end:{line:44,column:11}},"36":{start:{line:47,column:18},end:{line:47,column:54}},"37":{start:{line:49,column:6},end:{line:49,column:38}},"38":{start:{line:51,column:6},end:{line:57,column:9}},"39":{start:{line:63,column:22},end:{line:63,column:30}},"40":{start:{line:64,column:18},end:{line:64,column:33}},"41":{start:{line:65,column:21},end:{line:65,column:39}},"42":{start:{line:67,column:6},end:{line:79,column:7}},"43":{start:{line:67,column:19},end:{line:67,column:20}},"44":{start:{line:68,column:8},end:{line:78,column:9}},"45":{start:{line:69,column:20},end:{line:69,column:328}},"46":{start:{line:70,column:22},end:{line:70,column:54}},"47":{start:{line:71,column:10},end:{line:77,column:13}},"48":{start:{line:81,column:6},end:{line:84,column:9}},"49":{start:{line:87,column:2},end:{line:87,column:24}},"50":{start:{line:90,column:15},end:{line:90,column:29}},"51":{start:{line:91,column:0},end:{line:91,column:30}}},fnMap:{"0":{name:"ownKeys",decl:{start:{line:22,column:9},end:{line:22,column:16}},loc:{start:{line:22,column:41},end:{line:22,column:341}},line:22},"1":{name:"(anonymous_1)",decl:{start:{line:22,column:208},end:{line:22,column:209}},loc:{start:{line:22,column:223},end:{line:22,column:290}},line:22},"2":{name:"_objectSpread",decl:{start:{line:24,column:9},end:{line:24,column:22}},loc:{start:{line:24,column:31},end:{line:24,column:535}},line:24},"3":{name:"(anonymous_3)",decl:{start:{line:24,column:176},end:{line:24,column:177}},loc:{start:{line:24,column:191},end:{line:24,column:254}},line:24},"4":{name:"(anonymous_4)",decl:{start:{line:24,column:412},end:{line:24,column:413}},loc:{start:{line:24,column:427},end:{line:24,column:512}},line:24},"5":{name:"(anonymous_5)",decl:{start:{line:29,column:0},end:{line:29,column:1}},loc:{start:{line:29,column:12},end:{line:88,column:1}},line:29},"6":{name:"UserController",decl:{start:{line:30,column:11},end:{line:30,column:25}},loc:{start:{line:30,column:28},end:{line:32,column:3}},line:30},"7":{name:"registerUser",decl:{start:{line:37,column:20},end:{line:37,column:32}},loc:{start:{line:37,column:43},end:{line:58,column:5}},line:37},"8":{name:"login",decl:{start:{line:62,column:20},end:{line:62,column:25}},loc:{start:{line:62,column:36},end:{line:85,column:5}},line:62}},branchMap:{"0":{loc:{start:{line:22,column:75},end:{line:22,column:326}},type:"if",locations:[{start:{line:22,column:75},end:{line:22,column:326}},{start:{line:22,column:75},end:{line:22,column:326}}],line:22},"1":{loc:{start:{line:22,column:163},end:{line:22,column:292}},type:"if",locations:[{start:{line:22,column:163},end:{line:22,column:292}},{start:{line:22,column:163},end:{line:22,column:292}}],line:22},"2":{loc:{start:{line:24,column:91},end:{line:24,column:131}},type:"cond-expr",locations:[{start:{line:24,column:114},end:{line:24,column:126}},{start:{line:24,column:129},end:{line:24,column:131}}],line:24},"3":{loc:{start:{line:24,column:133},end:{line:24,column:516}},type:"if",locations:[{start:{line:24,column:133},end:{line:24,column:516}},{start:{line:24,column:133},end:{line:24,column:516}}],line:24},"4":{loc:{start:{line:24,column:264},end:{line:24,column:516}},type:"if",locations:[{start:{line:24,column:264},end:{line:24,column:516}},{start:{line:24,column:264},end:{line:24,column:516}}],line:24},"5":{loc:{start:{line:41,column:8},end:{line:44,column:11}},type:"if",locations:[{start:{line:41,column:8},end:{line:44,column:11}},{start:{line:41,column:8},end:{line:44,column:11}}],line:41},"6":{loc:{start:{line:68,column:8},end:{line:78,column:9}},type:"if",locations:[{start:{line:68,column:8},end:{line:78,column:9}},{start:{line:68,column:8},end:{line:78,column:9}}],line:68},"7":{loc:{start:{line:68,column:12},end:{line:68,column:120}},type:"binary-expr",locations:[{start:{line:68,column:12},end:{line:68,column:48}},{start:{line:68,column:52},end:{line:68,column:120}}],line:68}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0},b:{"0":[0,0],"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0]},_coverageSchema:"43e27e138ebf9cfc5966b082cf9a028302ed4184",hash:"ddfc07ae499cac72bfa2267d92f5dd54fee8db72"};var coverage=global[gcv]||(global[gcv]={});if(coverage[path]&&coverage[path].hash===hash){return coverage[path];}return coverage[path]=coverageData;}();var _interopRequireDefault=(cov_2ni5n7p5fo.s[0]++,require("@babel/runtime/helpers/interopRequireDefault"));cov_2ni5n7p5fo.s[1]++;Object.defineProperty(exports,"__esModule",{value:true});cov_2ni5n7p5fo.s[2]++;exports["default"]=void 0;var _defineProperty2=(cov_2ni5n7p5fo.s[3]++,_interopRequireDefault(require("@babel/runtime/helpers/defineProperty")));var _classCallCheck2=(cov_2ni5n7p5fo.s[4]++,_interopRequireDefault(require("@babel/runtime/helpers/classCallCheck")));var _createClass2=(cov_2ni5n7p5fo.s[5]++,_interopRequireDefault(require("@babel/runtime/helpers/createClass")));var _helpers=(cov_2ni5n7p5fo.s[6]++,require("./../helpers"));var _users=(cov_2ni5n7p5fo.s[7]++,_interopRequireDefault(require("../model/users")));var _payload=(cov_2ni5n7p5fo.s[8]++,_interopRequireDefault(require("./payload")));function ownKeys(object,enumerableOnly){cov_2ni5n7p5fo.f[0]++;var keys=(cov_2ni5n7p5fo.s[9]++,Object.keys(object));cov_2ni5n7p5fo.s[10]++;if(Object.getOwnPropertySymbols){cov_2ni5n7p5fo.b[0][0]++;var symbols=(cov_2ni5n7p5fo.s[11]++,Object.getOwnPropertySymbols(object));cov_2ni5n7p5fo.s[12]++;if(enumerableOnly){cov_2ni5n7p5fo.b[1][0]++;cov_2ni5n7p5fo.s[13]++;symbols=symbols.filter(function(sym){cov_2ni5n7p5fo.f[1]++;cov_2ni5n7p5fo.s[14]++;return Object.getOwnPropertyDescriptor(object,sym).enumerable;});}else{cov_2ni5n7p5fo.b[1][1]++;}cov_2ni5n7p5fo.s[15]++;keys.push.apply(keys,symbols);}else{cov_2ni5n7p5fo.b[0][1]++;}cov_2ni5n7p5fo.s[16]++;return keys;}function _objectSpread(target){cov_2ni5n7p5fo.f[2]++;cov_2ni5n7p5fo.s[17]++;for(var i=(cov_2ni5n7p5fo.s[18]++,1);i<arguments.length;i++){var source=(cov_2ni5n7p5fo.s[19]++,arguments[i]!=null?(cov_2ni5n7p5fo.b[2][0]++,arguments[i]):(cov_2ni5n7p5fo.b[2][1]++,{}));cov_2ni5n7p5fo.s[20]++;if(i%2){cov_2ni5n7p5fo.b[3][0]++;cov_2ni5n7p5fo.s[21]++;ownKeys(source,true).forEach(function(key){cov_2ni5n7p5fo.f[3]++;cov_2ni5n7p5fo.s[22]++;(0,_defineProperty2["default"])(target,key,source[key]);});}else{cov_2ni5n7p5fo.b[3][1]++;cov_2ni5n7p5fo.s[23]++;if(Object.getOwnPropertyDescriptors){cov_2ni5n7p5fo.b[4][0]++;cov_2ni5n7p5fo.s[24]++;Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{cov_2ni5n7p5fo.b[4][1]++;cov_2ni5n7p5fo.s[25]++;ownKeys(source).forEach(function(key){cov_2ni5n7p5fo.f[4]++;cov_2ni5n7p5fo.s[26]++;Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}}cov_2ni5n7p5fo.s[27]++;return target;}//class contain all user operation
var UserController=(/*#__PURE__*/cov_2ni5n7p5fo.s[28]++,function(){cov_2ni5n7p5fo.f[5]++;function UserController(){cov_2ni5n7p5fo.f[6]++;cov_2ni5n7p5fo.s[29]++;(0,_classCallCheck2["default"])(this,UserController);}cov_2ni5n7p5fo.s[30]++;(0,_createClass2["default"])(UserController,null,[{key:"registerUser",// new user 
value:function registerUser(req,res){cov_2ni5n7p5fo.f[7]++;var newUser=(cov_2ni5n7p5fo.s[31]++,(0,_payload["default"])(_users["default"].length+1,req.body.first_name,req.body.last_name,req.body.email,(0,_helpers.encryptPass)(req.body.password),req.body.gender,req.body.jobRole,req.body.department,req.body.address,false));cov_2ni5n7p5fo.s[32]++;for(var i=(cov_2ni5n7p5fo.s[33]++,0);i<_users["default"].length;i++){cov_2ni5n7p5fo.s[34]++;if(_users["default"][i].email===req.body.email){cov_2ni5n7p5fo.b[5][0]++;cov_2ni5n7p5fo.s[35]++;return res.status(409).send({status:409,message:"choose another email this was taken"});}else{cov_2ni5n7p5fo.b[5][1]++;}}var token=(cov_2ni5n7p5fo.s[36]++,(0,_helpers.generateToken)(newUser));cov_2ni5n7p5fo.s[37]++;_users["default"].push(newUser);cov_2ni5n7p5fo.s[38]++;return res.status(201).send({status:201,message:'succefully',data:_objectSpread({token:token},newUser)});}// user signin function
},{key:"login",value:function login(req,res){cov_2ni5n7p5fo.f[8]++;var _req$body=(cov_2ni5n7p5fo.s[39]++,req.body),email=(cov_2ni5n7p5fo.s[40]++,_req$body.email),password=(cov_2ni5n7p5fo.s[41]++,_req$body.password);cov_2ni5n7p5fo.s[42]++;for(var i=(cov_2ni5n7p5fo.s[43]++,0);i<_users["default"].length;i++){cov_2ni5n7p5fo.s[44]++;if((cov_2ni5n7p5fo.b[7][0]++,_users["default"][i].email===email)&&(cov_2ni5n7p5fo.b[7][1]++,(0,_helpers.checkPassword)(_users["default"][i].password,password))){cov_2ni5n7p5fo.b[6][0]++;var pld=(cov_2ni5n7p5fo.s[45]++,(0,_payload["default"])(_users["default"][i].user_id,_users["default"][i].first_name,_users["default"][i].last_name,_users["default"][i].email,_users["default"][i].password,_users["default"][i].gender,_users["default"][i].jobRole,_users["default"][i].department,_users["default"][i].is_admin,false));var token=(cov_2ni5n7p5fo.s[46]++,(0,_helpers.generateToken)(pld));cov_2ni5n7p5fo.s[47]++;return res.status(200).send({status:200,message:'succefully',data:_objectSpread({token:token},pld)});}else{cov_2ni5n7p5fo.b[6][1]++;}}cov_2ni5n7p5fo.s[48]++;return res.status(401).send({status:401,'message':'User not found!'});}}]);cov_2ni5n7p5fo.s[49]++;return UserController;}());var _default=(cov_2ni5n7p5fo.s[50]++,UserController);cov_2ni5n7p5fo.s[51]++;exports["default"]=_default;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVzZXIuanMiXSwibmFtZXMiOlsiVXNlckNvbnRyb2xsZXIiLCJyZXEiLCJyZXMiLCJuZXdVc2VyIiwidXNlcnMiLCJsZW5ndGgiLCJib2R5IiwiZmlyc3RfbmFtZSIsImxhc3RfbmFtZSIsImVtYWlsIiwicGFzc3dvcmQiLCJnZW5kZXIiLCJqb2JSb2xlIiwiZGVwYXJ0bWVudCIsImFkZHJlc3MiLCJpIiwic3RhdHVzIiwic2VuZCIsIm1lc3NhZ2UiLCJ0b2tlbiIsInB1c2giLCJkYXRhIiwicGxkIiwidXNlcl9pZCIsImlzX2FkbWluIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7QUFBQTs7QUFDQTs7QUFDQTs7Ozs7O0FBRUE7SUFDTUEsYzs7Ozs7Ozs7O0FBRUY7aUNBQ3FCQyxHLEVBQUtDLEcsRUFBSztBQUUvQixVQUFNQyxPQUFPLEdBQUcseUJBQ2hCQyxrQkFBTUMsTUFBTixHQUFlLENBREMsRUFFaEJKLEdBQUcsQ0FBQ0ssSUFBSixDQUFTQyxVQUZPLEVBR2hCTixHQUFHLENBQUNLLElBQUosQ0FBU0UsU0FITyxFQUloQlAsR0FBRyxDQUFDSyxJQUFKLENBQVNHLEtBSk8sRUFLaEIsMEJBQVlSLEdBQUcsQ0FBQ0ssSUFBSixDQUFTSSxRQUFyQixDQUxnQixFQU1oQlQsR0FBRyxDQUFDSyxJQUFKLENBQVNLLE1BTk8sRUFPaEJWLEdBQUcsQ0FBQ0ssSUFBSixDQUFTTSxPQVBPLEVBUWhCWCxHQUFHLENBQUNLLElBQUosQ0FBU08sVUFSTyxFQVNoQlosR0FBRyxDQUFDSyxJQUFKLENBQVNRLE9BVE8sRUFVaEIsS0FWZ0IsQ0FBaEI7O0FBZ0JBLFdBQUssSUFBSUMsQ0FBQyxHQUFFLENBQVosRUFBZUEsQ0FBQyxHQUFDWCxrQkFBTUMsTUFBdkIsRUFBOEJVLENBQUMsRUFBL0IsRUFBa0M7QUFFOUIsWUFBR1gsa0JBQU1XLENBQU4sRUFBU04sS0FBVCxLQUFpQlIsR0FBRyxDQUFDSyxJQUFKLENBQVNHLEtBQTdCLEVBRUUsT0FBT1AsR0FBRyxDQUFDYyxNQUFKLENBQVcsR0FBWCxFQUFnQkMsSUFBaEIsQ0FBcUI7QUFBRUQsVUFBQUEsTUFBTSxFQUFFLEdBQVY7QUFBZUUsVUFBQUEsT0FBTyxFQUFFO0FBQXhCLFNBQXJCLENBQVA7QUFHRzs7QUFDVCxVQUFNQyxLQUFLLEdBQUcsNEJBQWNoQixPQUFkLENBQWQ7O0FBQ0FDLHdCQUFNZ0IsSUFBTixDQUFXakIsT0FBWDs7QUFFQSxhQUFPRCxHQUFHLENBQUNjLE1BQUosQ0FBVyxHQUFYLEVBQWdCQyxJQUFoQixDQUFxQjtBQUFFRCxRQUFBQSxNQUFNLEVBQUUsR0FBVjtBQUFlRSxRQUFBQSxPQUFPLEVBQUMsWUFBdkI7QUFBb0NHLFFBQUFBLElBQUk7QUFBSUYsVUFBQUEsS0FBSyxFQUFMQTtBQUFKLFdBQWFoQixPQUFiO0FBQXhDLE9BQXJCLENBQVA7QUFFQyxLLENBS0E7Ozs7MEJBQ1NGLEcsRUFBS0MsRyxFQUFLO0FBQUEsc0JBR0VELEdBQUcsQ0FBQ0ssSUFITjtBQUFBLFVBR2ZHLEtBSGUsYUFHZkEsS0FIZTtBQUFBLFVBR1JDLFFBSFEsYUFHUkEsUUFIUTs7QUFNdEIsV0FBSyxJQUFJSyxDQUFDLEdBQUUsQ0FBWixFQUFlQSxDQUFDLEdBQUNYLGtCQUFNQyxNQUF2QixFQUE4QlUsQ0FBQyxFQUEvQixFQUFrQztBQUU5QixZQUFJWCxrQkFBTVcsQ0FBTixFQUFTTixLQUFULEtBQWlCQSxLQUFsQixJQUE2Qiw0QkFBY0wsa0JBQU1XLENBQU4sRUFBU0wsUUFBdkIsRUFBZ0NBLFFBQWhDLENBQWhDLEVBQTJFO0FBQ3pFLGNBQU1ZLEdBQUcsR0FBRSx5QkFDVmxCLGtCQUFNVyxDQUFOLEVBQVNRLE9BREMsRUFFVm5CLGtCQUFNVyxDQUFOLEVBQVNSLFVBRkMsRUFHVkgsa0JBQU1XLENBQU4sRUFBU1AsU0FIQyxFQUlWSixrQkFBTVcsQ0FBTixFQUFTTixLQUpDLEVBS1ZMLGtCQUFNVyxDQUFOLEVBQVNMLFFBTEMsRUFNVk4sa0JBQU1XLENBQU4sRUFBU0osTUFOQyxFQU9WUCxrQkFBTVcsQ0FBTixFQUFTSCxPQVBDLEVBUVZSLGtCQUFNVyxDQUFOLEVBQVNGLFVBUkMsRUFTVlQsa0JBQU1XLENBQU4sRUFBU1MsUUFUQyxFQVVWLEtBVlUsQ0FBWDtBQWFFLGNBQU1MLEtBQUssR0FBRyw0QkFBY0csR0FBZCxDQUFkO0FBQ0EsaUJBQU9wQixHQUFHLENBQUNjLE1BQUosQ0FBVyxHQUFYLEVBQWdCQyxJQUFoQixDQUFxQjtBQUFFRCxZQUFBQSxNQUFNLEVBQUUsR0FBVjtBQUFlRSxZQUFBQSxPQUFPLEVBQUMsWUFBdkI7QUFBb0NHLFlBQUFBLElBQUk7QUFBSUYsY0FBQUEsS0FBSyxFQUFMQTtBQUFKLGVBQWFHLEdBQWI7QUFBeEMsV0FBckIsQ0FBUDtBQUNJO0FBQ0g7O0FBRUwsYUFBT3BCLEdBQUcsQ0FBQ2MsTUFBSixDQUFXLEdBQVgsRUFBZ0JDLElBQWhCLENBQXFCO0FBQUVELFFBQUFBLE1BQU0sRUFBRSxHQUFWO0FBQWMsbUJBQVU7QUFBeEIsT0FBckIsQ0FBUDtBQUdIOzs7OztlQUVZaEIsYyIsInNvdXJjZVJvb3QiOiIvcHJpdmF0ZS92YXIvcm9vdC9Eb2N1bWVudHMvVGVhbXdvcmsvc2VydmVyL2NvbnRyb2xsZXJzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtnZW5lcmF0ZVRva2VuLGVuY3J5cHRQYXNzLGNoZWNrUGFzc3dvcmR9IGZyb20gJy4vLi4vaGVscGVycyc7XG5pbXBvcnQgdXNlcnMgZnJvbSAnLi4vbW9kZWwvdXNlcnMnO1xuaW1wb3J0IHBheUxvYWQgZnJvbSAnLi9wYXlsb2FkJztcblxuLy9jbGFzcyBjb250YWluIGFsbCB1c2VyIG9wZXJhdGlvblxuY2xhc3MgVXNlckNvbnRyb2xsZXIge1xuICAgIFxuICAgIC8vIG5ldyB1c2VyIFxuICAgIHN0YXRpYyAgcmVnaXN0ZXJVc2VyKHJlcSwgcmVzKSB7XG4gICAgXG4gICAgY29uc3QgbmV3VXNlciA9IHBheUxvYWQoXG4gICAgdXNlcnMubGVuZ3RoICsgMSxcbiAgICByZXEuYm9keS5maXJzdF9uYW1lLFxuICAgIHJlcS5ib2R5Lmxhc3RfbmFtZSxcbiAgICByZXEuYm9keS5lbWFpbCxcbiAgICBlbmNyeXB0UGFzcyhyZXEuYm9keS5wYXNzd29yZCksXG4gICAgcmVxLmJvZHkuZ2VuZGVyLFxuICAgIHJlcS5ib2R5LmpvYlJvbGUsXG4gICAgcmVxLmJvZHkuZGVwYXJ0bWVudCxcbiAgICByZXEuYm9keS5hZGRyZXNzLFxuICAgIGZhbHNlXG5cbiAgICApO1xuXG4gIFxuICAgICAgXG4gICAgZm9yIChsZXQgaSA9MDsgaTx1c2Vycy5sZW5ndGg7aSsrKXtcbiAgICAgIFxuICAgICAgICBpZih1c2Vyc1tpXS5lbWFpbD09PXJlcS5ib2R5LmVtYWlsIClcbiAgICAgICAgICAgXG4gICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDA5KS5zZW5kKHsgc3RhdHVzOiA0MDksIG1lc3NhZ2U6IFwiY2hvb3NlIGFub3RoZXIgZW1haWwgdGhpcyB3YXMgdGFrZW5cIiB9KTtcbiAgICAgICAgICBcbiAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgfVxuICAgIGNvbnN0IHRva2VuID0gZ2VuZXJhdGVUb2tlbihuZXdVc2VyKTtcbiAgICB1c2Vycy5wdXNoKG5ld1VzZXIpO1xuICAgIFxuICAgIHJldHVybiByZXMuc3RhdHVzKDIwMSkuc2VuZCh7IHN0YXR1czogMjAxLCBtZXNzYWdlOidzdWNjZWZ1bGx5JyxkYXRhOiB7IHRva2VuLC4uLm5ld1VzZXJ9IH0pO1xuICAgIFxuICAgIH1cblxuXG5cblxuICAgICAvLyB1c2VyIHNpZ25pbiBmdW5jdGlvblxuc3RhdGljICBsb2dpbihyZXEsIHJlcykge1xuXG5cbiAgY29uc3Qge2VtYWlsLCBwYXNzd29yZH09cmVxLmJvZHk7XG4gIFxuICBcbiAgZm9yIChsZXQgaSA9MDsgaTx1c2Vycy5sZW5ndGg7aSsrKXtcbiAgXG4gICAgICBpZigodXNlcnNbaV0uZW1haWw9PT1lbWFpbCkgJiYgKGNoZWNrUGFzc3dvcmQodXNlcnNbaV0ucGFzc3dvcmQscGFzc3dvcmQpKSl7XG4gICAgICAgIGNvbnN0IHBsZD0gcGF5TG9hZCggICAgICAgICAgIFxuICAgICAgICAgdXNlcnNbaV0udXNlcl9pZCxcbiAgICAgICAgIHVzZXJzW2ldLmZpcnN0X25hbWUsXG4gICAgICAgICB1c2Vyc1tpXS5sYXN0X25hbWUsXG4gICAgICAgICB1c2Vyc1tpXS5lbWFpbCxcbiAgICAgICAgIHVzZXJzW2ldLnBhc3N3b3JkLFxuICAgICAgICAgdXNlcnNbaV0uZ2VuZGVyLFxuICAgICAgICAgdXNlcnNbaV0uam9iUm9sZSxcbiAgICAgICAgIHVzZXJzW2ldLmRlcGFydG1lbnQsXG4gICAgICAgICB1c2Vyc1tpXS5pc19hZG1pbixcbiAgICAgICAgIGZhbHNlXG5cbiAgICAgICAgICApIDtcbiAgICAgICAgICBjb25zdCB0b2tlbiA9IGdlbmVyYXRlVG9rZW4ocGxkKTtcbiAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLnNlbmQoeyBzdGF0dXM6IDIwMCwgbWVzc2FnZTonc3VjY2VmdWxseScsZGF0YTogeyB0b2tlbiwuLi5wbGR9IH0pO1xuICAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gIFxuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAxKS5zZW5kKHsgc3RhdHVzOiA0MDEsJ21lc3NhZ2UnOidVc2VyIG5vdCBmb3VuZCEnIH0pO1xuICBcbiAgXG4gIH1cbn1cbmV4cG9ydCBkZWZhdWx0IFVzZXJDb250cm9sbGVyOyJdfQ==