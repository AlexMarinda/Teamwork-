"use strict";var cov_25g6fb74g1=function(){var path="/private/var/root/Documents/teamwork-backend/server/controllers/admin.js";var hash="4e456be246974990a4a749bf290b9c4326b24f6c";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/private/var/root/Documents/teamwork-backend/server/controllers/admin.js",statementMap:{"0":{start:{line:3,column:29},end:{line:3,column:84}},"1":{start:{line:5,column:0},end:{line:7,column:3}},"2":{start:{line:8,column:0},end:{line:8,column:28}},"3":{start:{line:10,column:23},end:{line:10,column:95}},"4":{start:{line:12,column:20},end:{line:12,column:89}},"5":{start:{line:14,column:15},end:{line:14,column:66}},"6":{start:{line:16,column:15},end:{line:16,column:66}},"7":{start:{line:18,column:14},end:{line:18,column:55}},"8":{start:{line:20,column:20},end:{line:20,column:67}},"9":{start:{line:24,column:0},end:{line:105,column:3}},"10":{start:{line:26,column:4},end:{line:26,column:50}},"11":{start:{line:29,column:2},end:{line:103,column:6}},"12":{start:{line:32,column:24},end:{line:34,column:8}},"13":{start:{line:33,column:8},end:{line:33,column:49}},"14":{start:{line:36,column:6},end:{line:44,column:7}},"15":{start:{line:38,column:8},end:{line:38,column:30}},"16":{start:{line:39,column:8},end:{line:43,column:11}},"17":{start:{line:46,column:6},end:{line:49,column:9}},"18":{start:{line:54,column:24},end:{line:56,column:8}},"19":{start:{line:55,column:8},end:{line:55,column:64}},"20":{start:{line:58,column:6},end:{line:75,column:7}},"21":{start:{line:59,column:8},end:{line:59,column:51}},"22":{start:{line:61,column:8},end:{line:69,column:11}},"23":{start:{line:71,column:8},end:{line:74,column:11}},"24":{start:{line:80,column:24},end:{line:82,column:8}},"25":{start:{line:81,column:8},end:{line:81,column:64}},"26":{start:{line:84,column:6},end:{line:101,column:7}},"27":{start:{line:85,column:8},end:{line:85,column:51}},"28":{start:{line:87,column:8},end:{line:95,column:11}},"29":{start:{line:97,column:8},end:{line:100,column:11}},"30":{start:{line:104,column:2},end:{line:104,column:15}},"31":{start:{line:107,column:15},end:{line:107,column:20}},"32":{start:{line:108,column:0},end:{line:108,column:30}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:24,column:0},end:{line:24,column:1}},loc:{start:{line:24,column:12},end:{line:105,column:1}},line:24},"1":{name:"Admin",decl:{start:{line:25,column:11},end:{line:25,column:16}},loc:{start:{line:25,column:19},end:{line:27,column:3}},line:25},"2":{name:"filterArticle",decl:{start:{line:31,column:20},end:{line:31,column:33}},loc:{start:{line:31,column:44},end:{line:50,column:5}},line:31},"3":{name:"(anonymous_3)",decl:{start:{line:32,column:51},end:{line:32,column:52}},loc:{start:{line:32,column:64},end:{line:34,column:7}},line:32},"4":{name:"deleteComent",decl:{start:{line:53,column:20},end:{line:53,column:32}},loc:{start:{line:53,column:43},end:{line:76,column:5}},line:53},"5":{name:"(anonymous_5)",decl:{start:{line:54,column:49},end:{line:54,column:50}},loc:{start:{line:54,column:62},end:{line:56,column:7}},line:54},"6":{name:"deleteArticle",decl:{start:{line:79,column:20},end:{line:79,column:33}},loc:{start:{line:79,column:44},end:{line:102,column:5}},line:79},"7":{name:"(anonymous_7)",decl:{start:{line:80,column:49},end:{line:80,column:50}},loc:{start:{line:80,column:62},end:{line:82,column:7}},line:80}},branchMap:{"0":{loc:{start:{line:36,column:6},end:{line:44,column:7}},type:"if",locations:[{start:{line:36,column:6},end:{line:44,column:7}},{start:{line:36,column:6},end:{line:44,column:7}}],line:36},"1":{loc:{start:{line:58,column:6},end:{line:75,column:7}},type:"if",locations:[{start:{line:58,column:6},end:{line:75,column:7}},{start:{line:58,column:6},end:{line:75,column:7}}],line:58},"2":{loc:{start:{line:58,column:10},end:{line:58,column:55}},type:"binary-expr",locations:[{start:{line:58,column:10},end:{line:58,column:21}},{start:{line:58,column:25},end:{line:58,column:55}}],line:58},"3":{loc:{start:{line:84,column:6},end:{line:101,column:7}},type:"if",locations:[{start:{line:84,column:6},end:{line:101,column:7}},{start:{line:84,column:6},end:{line:101,column:7}}],line:84},"4":{loc:{start:{line:84,column:10},end:{line:84,column:55}},type:"binary-expr",locations:[{start:{line:84,column:10},end:{line:84,column:21}},{start:{line:84,column:25},end:{line:84,column:55}}],line:84}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0},b:{"0":[0,0],"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0]},_coverageSchema:"43e27e138ebf9cfc5966b082cf9a028302ed4184",hash:"4e456be246974990a4a749bf290b9c4326b24f6c"};var coverage=global[gcv]||(global[gcv]={});if(coverage[path]&&coverage[path].hash===hash){return coverage[path];}return coverage[path]=coverageData;}();var _interopRequireDefault=(cov_25g6fb74g1.s[0]++,require("@babel/runtime/helpers/interopRequireDefault"));cov_25g6fb74g1.s[1]++;Object.defineProperty(exports,"__esModule",{value:true});cov_25g6fb74g1.s[2]++;exports["default"]=void 0;var _classCallCheck2=(cov_25g6fb74g1.s[3]++,_interopRequireDefault(require("@babel/runtime/helpers/classCallCheck")));var _createClass2=(cov_25g6fb74g1.s[4]++,_interopRequireDefault(require("@babel/runtime/helpers/createClass")));var _article=(cov_25g6fb74g1.s[5]++,_interopRequireDefault(require("../model/article")));var _comment=(cov_25g6fb74g1.s[6]++,_interopRequireDefault(require("../model/comment")));var _moment=(cov_25g6fb74g1.s[7]++,_interopRequireDefault(require("moment")));var _jsonwebtoken=(cov_25g6fb74g1.s[8]++,_interopRequireDefault(require("jsonwebtoken")));var Admin=(/*#__PURE__*/cov_25g6fb74g1.s[9]++,function(){cov_25g6fb74g1.f[0]++;function Admin(){cov_25g6fb74g1.f[1]++;cov_25g6fb74g1.s[10]++;(0,_classCallCheck2["default"])(this,Admin);}cov_25g6fb74g1.s[11]++;(0,_createClass2["default"])(Admin,null,[{key:"filterArticle",value:function filterArticle(req,res){cov_25g6fb74g1.f[2]++;var findArticle=(cov_25g6fb74g1.s[12]++,_article["default"].filter(function(t){cov_25g6fb74g1.f[3]++;cov_25g6fb74g1.s[13]++;return t.category===req.query.category;}));cov_25g6fb74g1.s[14]++;if(findArticle){cov_25g6fb74g1.b[0][0]++;cov_25g6fb74g1.s[15]++;//findArticle.sort();
findArticle.reverse();cov_25g6fb74g1.s[16]++;return res.status(200).send({status:200,'message':'success',data:findArticle});}else{cov_25g6fb74g1.b[0][1]++;}cov_25g6fb74g1.s[17]++;return res.status(404).send({status:404,'message':'article not found!'});}},{key:"deleteComent",value:function deleteComent(req,res){cov_25g6fb74g1.f[4]++;var findComment=(cov_25g6fb74g1.s[18]++,_comment["default"].find(function(t){cov_25g6fb74g1.f[5]++;cov_25g6fb74g1.s[19]++;return t.comment_id===parseInt(req.params.comment_id);}));cov_25g6fb74g1.s[20]++;if((cov_25g6fb74g1.b[2][0]++,findComment)&&(cov_25g6fb74g1.b[2][1]++,findComment.inappropriate>=1)){cov_25g6fb74g1.b[1][0]++;cov_25g6fb74g1.s[21]++;_comment["default"].splice(findComment,1);cov_25g6fb74g1.s[22]++;return res.status(200).send({status:200,'message':'comment successfully deleted',data:{comment_id:findComment.comment_id,comment:findComment.comment,createdOn:findComment.createdOn}});}else{cov_25g6fb74g1.b[1][1]++;cov_25g6fb74g1.s[23]++;return res.status(404).send({status:404,'message':'comment not found!'});}}},{key:"deleteArticle",value:function deleteArticle(req,res){cov_25g6fb74g1.f[6]++;var findArticle=(cov_25g6fb74g1.s[24]++,_article["default"].find(function(t){cov_25g6fb74g1.f[7]++;cov_25g6fb74g1.s[25]++;return t.article_id===parseInt(req.params.article_id);}));cov_25g6fb74g1.s[26]++;if((cov_25g6fb74g1.b[4][0]++,findArticle)&&(cov_25g6fb74g1.b[4][1]++,findArticle.inappropriate>=1)){cov_25g6fb74g1.b[3][0]++;cov_25g6fb74g1.s[27]++;_comment["default"].splice(findArticle,1);cov_25g6fb74g1.s[28]++;return res.status(200).send({status:200,'message':'article successfully deleted',data:{title:findArticle.title,article:findArticle.article,createdOn:findArticle.createdOn}});}else{cov_25g6fb74g1.b[3][1]++;cov_25g6fb74g1.s[29]++;return res.status(404).send({status:404,'message':'article not found!'});}}}]);cov_25g6fb74g1.s[30]++;return Admin;}());var _default=(cov_25g6fb74g1.s[31]++,Admin);cov_25g6fb74g1.s[32]++;exports["default"]=_default;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFkbWluLmpzIl0sIm5hbWVzIjpbIkFkbWluIiwicmVxIiwicmVzIiwiZmluZEFydGljbGUiLCJhcnRpY2xlcyIsImZpbHRlciIsInQiLCJjYXRlZ29yeSIsInF1ZXJ5IiwicmV2ZXJzZSIsInN0YXR1cyIsInNlbmQiLCJkYXRhIiwiZmluZENvbW1lbnQiLCJjb21tZW50cyIsImZpbmQiLCJjb21tZW50X2lkIiwicGFyc2VJbnQiLCJwYXJhbXMiLCJpbmFwcHJvcHJpYXRlIiwic3BsaWNlIiwiY29tbWVudCIsImNyZWF0ZWRPbiIsImFydGljbGVfaWQiLCJ0aXRsZSIsImFydGljbGUiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7QUFBQTs7QUFDQTs7QUFDQTs7QUFDQTs7SUFHTUEsSzs7Ozs7Ozs7O2tDQUNnQkMsRyxFQUFLQyxHLEVBQUs7QUFDNUIsVUFBTUMsV0FBVyxHQUFLQyxvQkFBU0MsTUFBVCxDQUFnQixVQUFBQyxDQUFDO0FBQUEsZUFBSUEsQ0FBQyxDQUFDQyxRQUFGLEtBQWVOLEdBQUcsQ0FBQ08sS0FBSixDQUFVRCxRQUE3QjtBQUFBLE9BQWpCLENBQXRCOztBQUVBLFVBQUdKLFdBQUgsRUFBZTtBQUNiO0FBQ0RBLFFBQUFBLFdBQVcsQ0FBQ00sT0FBWjtBQUNHLGVBQU9QLEdBQUcsQ0FBQ1EsTUFBSixDQUFXLEdBQVgsRUFBZ0JDLElBQWhCLENBQXFCO0FBQUVELFVBQUFBLE1BQU0sRUFBRSxHQUFWO0FBQWUscUJBQVcsU0FBMUI7QUFBcUNFLFVBQUFBLElBQUksRUFBQ1Q7QUFBMUMsU0FBckIsQ0FBUDtBQUVDOztBQUNELGFBQU9ELEdBQUcsQ0FBQ1EsTUFBSixDQUFXLEdBQVgsRUFBZ0JDLElBQWhCLENBQXFCO0FBQUVELFFBQUFBLE1BQU0sRUFBRSxHQUFWO0FBQWdCLG1CQUFVO0FBQTFCLE9BQXJCLENBQVA7QUFHUDs7O2lDQUNtQlQsRyxFQUFLQyxHLEVBQUk7QUFJdkIsVUFBTVcsV0FBVyxHQUFHQyxvQkFBU0MsSUFBVCxDQUFjLFVBQUFULENBQUM7QUFBQSxlQUFJQSxDQUFDLENBQUNVLFVBQUYsS0FBaUJDLFFBQVEsQ0FBQ2hCLEdBQUcsQ0FBQ2lCLE1BQUosQ0FBV0YsVUFBWixDQUE3QjtBQUFBLE9BQWYsQ0FBcEI7O0FBQ0EsVUFBR0gsV0FBVyxJQUFJQSxXQUFXLENBQUNNLGFBQVosSUFBMkIsQ0FBN0MsRUFBK0M7QUFHN0NMLDRCQUFTTSxNQUFULENBQWdCUCxXQUFoQixFQUE0QixDQUE1Qjs7QUFHRixlQUFPWCxHQUFHLENBQUNRLE1BQUosQ0FBVyxHQUFYLEVBQWdCQyxJQUFoQixDQUFxQjtBQUFFRCxVQUFBQSxNQUFNLEVBQUUsR0FBVjtBQUFlLHFCQUFXLDhCQUExQjtBQUEwREUsVUFBQUEsSUFBSSxFQUFFO0FBQUNJLFlBQUFBLFVBQVUsRUFBQ0gsV0FBVyxDQUFDRyxVQUF4QjtBQUMxRkssWUFBQUEsT0FBTyxFQUFDUixXQUFXLENBQUNRLE9BRHNFO0FBQzlEQyxZQUFBQSxTQUFTLEVBQUNULFdBQVcsQ0FBQ1M7QUFEd0M7QUFBaEUsU0FBckIsQ0FBUDtBQUlFLE9BVkYsTUFXTTtBQUNBLGVBQU9wQixHQUFHLENBQUNRLE1BQUosQ0FBVyxHQUFYLEVBQWdCQyxJQUFoQixDQUFxQjtBQUFFRCxVQUFBQSxNQUFNLEVBQUUsR0FBVjtBQUFnQixxQkFBVTtBQUExQixTQUFyQixDQUFQO0FBQ0o7QUFDQTs7O2tDQUNvQlQsRyxFQUFLQyxHLEVBQUk7QUFJN0IsVUFBTUMsV0FBVyxHQUFHQyxvQkFBU1csSUFBVCxDQUFjLFVBQUFULENBQUM7QUFBQSxlQUFJQSxDQUFDLENBQUNpQixVQUFGLEtBQWlCTixRQUFRLENBQUNoQixHQUFHLENBQUNpQixNQUFKLENBQVdLLFVBQVosQ0FBN0I7QUFBQSxPQUFmLENBQXBCOztBQUNBLFVBQUdwQixXQUFXLElBQUlBLFdBQVcsQ0FBQ2dCLGFBQVosSUFBMkIsQ0FBN0MsRUFBK0M7QUFHN0NMLDRCQUFTTSxNQUFULENBQWdCakIsV0FBaEIsRUFBNEIsQ0FBNUI7O0FBR0YsZUFBT0QsR0FBRyxDQUFDUSxNQUFKLENBQVcsR0FBWCxFQUFnQkMsSUFBaEIsQ0FBcUI7QUFBRUQsVUFBQUEsTUFBTSxFQUFFLEdBQVY7QUFBZSxxQkFBVyw4QkFBMUI7QUFBMERFLFVBQUFBLElBQUksRUFBRTtBQUFDWSxZQUFBQSxLQUFLLEVBQUNyQixXQUFXLENBQUNxQixLQUFuQjtBQUMxRkMsWUFBQUEsT0FBTyxFQUFDdEIsV0FBVyxDQUFDc0IsT0FEc0U7QUFDOURILFlBQUFBLFNBQVMsRUFBQ25CLFdBQVcsQ0FBQ21CO0FBRHdDO0FBQWhFLFNBQXJCLENBQVA7QUFJRSxPQVZGLE1BV007QUFDQSxlQUFPcEIsR0FBRyxDQUFDUSxNQUFKLENBQVcsR0FBWCxFQUFnQkMsSUFBaEIsQ0FBcUI7QUFBRUQsVUFBQUEsTUFBTSxFQUFFLEdBQVY7QUFBZ0IscUJBQVU7QUFBMUIsU0FBckIsQ0FBUDtBQUNKO0FBQ0E7Ozs7O2VBS0tWLEsiLCJzb3VyY2VSb290IjoiL3ByaXZhdGUvdmFyL3Jvb3QvRG9jdW1lbnRzL3RlYW13b3JrLWJhY2tlbmQvc2VydmVyL2NvbnRyb2xsZXJzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGFydGljbGVzICBmcm9tICcuLi9tb2RlbC9hcnRpY2xlJztcbmltcG9ydCBjb21tZW50cyBmcm9tICcuLi9tb2RlbC9jb21tZW50JztcbmltcG9ydCBtb21lbnQgZnJvbSAnbW9tZW50JztcbmltcG9ydCBqd3QgZnJvbSAnanNvbndlYnRva2VuJztcblxuXG5jbGFzcyBBZG1pbiB7XG5zdGF0aWMgIGZpbHRlckFydGljbGUocmVxLCByZXMpIHtcbiAgICBjb25zdCBmaW5kQXJ0aWNsZSA9ICAgYXJ0aWNsZXMuZmlsdGVyKHQgPT4gdC5jYXRlZ29yeSA9PT0gcmVxLnF1ZXJ5LmNhdGVnb3J5KTtcbiAgICAgIFxuICAgIGlmKGZpbmRBcnRpY2xlKXtcbiAgICAgIC8vZmluZEFydGljbGUuc29ydCgpO1xuICAgICBmaW5kQXJ0aWNsZS5yZXZlcnNlKCk7XG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuc2VuZCh7IHN0YXR1czogMjAwLCAnbWVzc2FnZSc6ICdzdWNjZXNzJywgZGF0YTpmaW5kQXJ0aWNsZX0pO1xuICAgICAgICAgIFxuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwNCkuc2VuZCh7IHN0YXR1czogNDA0LCAgJ21lc3NhZ2UnOidhcnRpY2xlIG5vdCBmb3VuZCEnfSk7XG4gICAgXG5cbn1cbnN0YXRpYyBkZWxldGVDb21lbnQocmVxLCByZXMpe1xuXG5cbiAgICBcbiAgICAgIGNvbnN0IGZpbmRDb21tZW50ID0gY29tbWVudHMuZmluZCh0ID0+IHQuY29tbWVudF9pZCA9PT0gcGFyc2VJbnQocmVxLnBhcmFtcy5jb21tZW50X2lkKSk7XG4gICAgICBpZihmaW5kQ29tbWVudCAmJiBmaW5kQ29tbWVudC5pbmFwcHJvcHJpYXRlPj0xKXtcbiAgICAgIFxuICAgICAgICAgXG4gICAgICAgIGNvbW1lbnRzLnNwbGljZShmaW5kQ29tbWVudCwxKTtcbiAgXG4gICAgXG4gICAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLnNlbmQoeyBzdGF0dXM6IDIwMCwgJ21lc3NhZ2UnOiAnY29tbWVudCBzdWNjZXNzZnVsbHkgZGVsZXRlZCcsIGRhdGE6IHtjb21tZW50X2lkOmZpbmRDb21tZW50LmNvbW1lbnRfaWQsXG4gICAgICAgIGNvbW1lbnQ6ZmluZENvbW1lbnQuY29tbWVudCxjcmVhdGVkT246ZmluZENvbW1lbnQuY3JlYXRlZE9ufX0pO1xuICAgICAgIFxuICAgICAgXG4gICAgICAgfSBcbiAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwNCkuc2VuZCh7IHN0YXR1czogNDA0LCAgJ21lc3NhZ2UnOidjb21tZW50IG5vdCBmb3VuZCEnfSk7XG4gICAgICAgfVxuICAgICAgIH1cbiAgICAgICBzdGF0aWMgZGVsZXRlQXJ0aWNsZShyZXEsIHJlcyl7XG5cblxuICAgIFxuICAgICAgICBjb25zdCBmaW5kQXJ0aWNsZSA9IGFydGljbGVzLmZpbmQodCA9PiB0LmFydGljbGVfaWQgPT09IHBhcnNlSW50KHJlcS5wYXJhbXMuYXJ0aWNsZV9pZCkpO1xuICAgICAgICBpZihmaW5kQXJ0aWNsZSAmJiBmaW5kQXJ0aWNsZS5pbmFwcHJvcHJpYXRlPj0xKXtcbiAgXG4gICAgICAgICAgIFxuICAgICAgICAgIGNvbW1lbnRzLnNwbGljZShmaW5kQXJ0aWNsZSwxKTtcbiAgICBcbiAgICAgIFxuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLnNlbmQoeyBzdGF0dXM6IDIwMCwgJ21lc3NhZ2UnOiAnYXJ0aWNsZSBzdWNjZXNzZnVsbHkgZGVsZXRlZCcsIGRhdGE6IHt0aXRsZTpmaW5kQXJ0aWNsZS50aXRsZSxcbiAgICAgICAgICBhcnRpY2xlOmZpbmRBcnRpY2xlLmFydGljbGUsY3JlYXRlZE9uOmZpbmRBcnRpY2xlLmNyZWF0ZWRPbn19KTtcbiAgICAgICAgIFxuICAgICAgICBcbiAgICAgICAgIH0gXG4gICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDA0KS5zZW5kKHsgc3RhdHVzOiA0MDQsICAnbWVzc2FnZSc6J2FydGljbGUgbm90IGZvdW5kISd9KTtcbiAgICAgICAgIH1cbiAgICAgICAgIH1cblxuXG4gICAgfVxuXG5leHBvcnQgZGVmYXVsdCBBZG1pbjsiXX0=