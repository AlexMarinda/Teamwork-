{"version":3,"sources":["user.js"],"names":["chai","use","chaiHttp","should","users","user1","describe","it","done","request","app","post","send","email","first_name","last_name","password","gender","jobRole","department","address","end","err","res","have","status","body","property","be","a","eql","timeout"],"mappings":"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","sourceRoot":"/private/var/root/Documents/teamwork-backend/server/test","sourcesContent":["// Import the dependencies for testing\nimport chai,{expect} from 'chai';\nimport chaiHttp from 'chai-http';\nimport app from '../index';\nimport users from '../model/users';\n\n\nchai.use(chaiHttp);\nchai.should();\n// eslint-disable-next-line no-unused-vars\n\nconst [user1] = users;\n\n  describe('SignUp', () => {\n    it('it should add user if required fields provided', done => {\n      chai\n        .request(app)\n        .post('/api/v1/auth/signup')\n        .send({\n            email: 'marindaalex4@gmail.com',\n            first_name: 'teller',\n            last_name: 'marinda',\n            password: '123',\n            gender: 'male',\n            jobRole :'developer',\n            department :'IT',\n            address: 'kicukiro',\n        })\n        .end((err, res) => {\n          res.should.have.status(201);\n          res.body.should.have.property('data').be.a('object');\n          res.body.should.have.property('data').have.property('token');\n          done();\n        });\n    });\n\n    it('it should return 409 when user choose email taken', done => {\n      chai\n        .request(app)\n        .post('/api/v1/auth/signup')\n        .send({\n            email: 'marindaalex44@gmail.com',\n            first_name: 'teller',\n            last_name: 'marinda',\n            password: '123',\n            gender: 'male',\n            jobRole :'developer',\n            department :'it',\n            address: 'kicukiro',\n        })\n        .end((err, res) => {\n          res.should.have.status(409);\n          res.body.should.have.property('message').eql('choose another email this was taken');\n          done();\n        });\n    });\n  });\n  describe('SignIn', () => {\n    it('it should sign in user if correct credentials provided', done => {\n      chai\n        .request(app)\n        .post('/api/v1/auth/signin')\n        .send({\n          email: 'marindaalex44@gmail.com',\n          password: '123'\n        })\n        .end((err, res) => {\n          res.should.have.status(200);\n          res.body.should.have.property('status').be.a(200);\n          res.body.should.have.property('message').eql('succefully');\n          res.body.should.have.property('data').be.a('object');\n          res.body.should.have.property('data').have.property('token');\n          done();\n        });\n    }).timeout(5000);\n\n    it('it should return 401  when user fills bad inputs', done => {\n      chai\n        .request(app)\n        .post('/api/v1/auth/signin')\n        .send({\n          email: 'test@test.com',\n          password: 'somebadpass'\n        })\n        .end((err, res) => {\n          res.should.have.status(401);\n          res.body.should.have.property('status').be.a(401);\n          res.body.should.have.property('nessage').eql('User not found!');\n          done();\n        });\n    });\n  });\n\n\n"]}